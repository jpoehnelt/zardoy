# This file was generated by generate-sync-all script. Don't edit it directly.

name: Sync Files & Secrets
'on':
    push:
        branches:
            - master
            - main
jobs:
    sync-npm-packages:
        runs-on: ubuntu-latest
        steps:
            - name: Sync NPM Token
              uses: google/secrets-sync-action@master
              with:
                  secrets: ^NPM_TOKEN$
                  repositories_list_regex: false
                  repositories: |-
                      zardoy/read-browser-tabs
                      zardoy/tsconfig
                      zardoy/modify-json-file
                      zardoy/typed-ipc
                      zardoy/github-remote-info
                      zardoy/publish-action
                      zardoy/package-with-types
                  github_token: ${{ secrets.SYNC_GITHUB_TOKEN }}
              env:
                  NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
            - name: Sync VSCE Token (PAT)
              uses: google/secrets-sync-action@master
              with:
                  secrets: ^VSCE_PAT$
                  repositories_list_regex: false
                  repositories: |-
                      zardoy/vscode-keybindings
                  github_token: ${{ secrets.SYNC_GITHUB_TOKEN }}
              env:
                  VSCE_PAT: ${{ secrets.VSCE_PAT }}
            - name: Sync GitHub Token
              uses: google/secrets-sync-action@master
              with:
                  secrets: ^GH_TOKEN$
                  repositories_list_regex: false
                  # todo: auto combine them, since its required whenever PAT or NPM_TOKEN used
                  repositories: |-
                      zardoy/publish-action
                      zardoy/vscode-keybindings
                  github_token: ${{ secrets.SYNC_GITHUB_TOKEN }}
              env:
                  GH_TOKEN: ${{ secrets.SYNC_GITHUB_TOKEN }}
